# CONTRIBUTING.md

## ブランチ運用ルール
- `main`: 本番リリース用
- `develop`: 次期バージョン統合用
- `feature/*`: 機能ごとの開発ブランチ
- `release/*`: リリース前安定化ブランチ

> 🔸 本番バグ等の修正も、原則は通常の `feature → develop → release → main` の流れで対応します。

## 🔁 ブランチの関係とマージフロー

```text
                        +---------------------+
                        |     main（本番）      |
                        +---------------------+
                          ↑
                          |
                +----------------------+
                |   release/x.y.z       | ← リリース調整・最終チェック
                +----------------------+
                          ↑
                          |
                +----------------------+
                |     develop          | ← 日々の統合作業
                +----------------------+
                   ↑        ↑       ↑
                   |        |       |
       +------------+   +----------+   +---------------+
       | feature/xxx |   | feature/yyy |   | feature/zzz | ← 作業単位で分岐
       +------------+   +----------+   +---------------+
```

## GitHubフローの運用

- 作業は `feature/*` ブランチで行ってください
- `develop` に向けて Pull Request（PR）を作成してください
- PRは原則レビューを受けてからマージします（レビュー者がいない場合はセルフマージOK）
- `release/*` へのマージはリリース調整中のみ行います
- `main` へのマージは基本的に `release/*` から行います


## 📝 その他の注意点

- ドキュメント修正も PR にしてください（README など）
- リリースブランチにテスト用バージョンタグ(vx.x.x-test)を打つと、dockerイメージのビルドテストが実施されます
- リリース前には `release/*` ブランチでテストと調整を行ってから `main` にマージしてください
- 本番リリース時は `main` にバージョンタグ（vx.x.x）を作成すると、GHCR やDockerHubの更新が行われます

## タグ運用ルール（補足）

- テスト用タグ： `vx.x.x-test`
  - `release/*` ブランチでビルド確認用に打つ
  - GHCR には `:test`, `:test-latest` が付与される

- 本番用タグ： `vx.x.x`
  - `main` にマージした直後に作成
  - GHCR には `:v2`, `:latest` が付与される

## ブランチ命名例

- `feature/login-ui`
- `feature/fix-password-reset`
- `release/1.3.0`

## PRタイトル例

- Fix: ログイン画面のエラーメッセージ修正
- Add: ユーザー招待機能を追加
